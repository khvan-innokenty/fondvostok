# fondvostok

Формат обмена данными - **JSON**\
Кодировка - **UTF-8**

## POST Создание нового участка
Поля запроса:
1. **id** - идентификатор участка, уникальная строка
2. **coords** - массив координат в градусах с точностью 6 точек после запятой
3. **area** - площадь участка в гектарах с точностью 2 точки после запятой
4. *формируются*

Пример POST-запроса:
```json
{
   "id": "1234567890ABCD",
   "coords":[
      {
         "lat": 43.406667,
         "lng": 134.895467
      },
      {
         "lat": 43.419250,
         "lng": 134.932517
      },
      {
         "lat": 43.413717,
         "lng": 134.937050
      },
      {
         "lat": 43.400583,
         "lng": 134.898900
      }
   ],
   "area": 242.71
}
```

Ожидаемый ответ:
1. **code** - число, ответ сервера
2. **message** - расшифровка ответа сервера 
3. **id** - идентификатор участка, уникальная строка
4. **timestamp** - временная метка обработки запроса
5. *формируются*

Пример ответа:
```json
{
   "code": 200,
   "message": "Запрос принят в обработку",
   "id": "1234567890ABCD",
   "timestamp": 1496411085
}
```

## GET Получение информации об участке(ах)
Поля запроса:
1. **id** - идентификатор(ы) участка, уникальная строка или массив.

Пример GET-запроса для одного участка:
```json
{
   "id": "1234567890ABCD"
}
```

Ожидаемый ответ:
1. **code** - число, ответ сервера
2. **message** - расшифровка ответа сервера 
3. **id** - идентификатор участка, уникальная строка
4. **timestamp** - временная метка обработки запроса
5. **data** - дополнительные данные, формат зависит от ответа сервера **code**
6. *формируются*

Пример ответа:
```json
{
   "code": 601,
   "message": "Заявка на формирование границ участка отправлена в Росрыболовство",
   "id": "1234567890ABCD",
   "timestamp": 1496411085,
   "data": {
       "sent_date": "2017-06-02",
       "request_number": "127-028"
   }
}
```
В приведённом примере в качестве дополнительных данных выступают:
- дата отправки заявки в Росрыболовство (*sent_date*);
- номер заявки в Росрыболовство (*request_number*).

Пример GET-запроса для нескольких участков:
```json
{
   "id": [
   "1234567890ABCD",
   "1234567890ABCX"
   ]
}
```

Пример ответа:
```json
[
   {
      "code": 601,
      "message": "Заявка на формирование границ участка отправлена в Росрыболовство",
      "id": "1234567890ABCD",
      "timestamp": 1496411085,
      "data":{
         "sent_date": "2017-06-02",
         "request_number": "127-028"
      }
   },
   {
      "code": 403,
      "message": "Участок не найден в системе",
      "id": "1234567890ABCX",
      "timestamp": 1496411085,
      "data": null
   }
]
```
